const t={type:"advanced-tile-card",name:"Advanced Tile Card",preview:!0,description:"More advanced tile card"},e=`${t.type}-visual-editor`,n=["on","home","armed_night","armed_home","armed_away","closing","closed","locked","playing"];var i={version:"Version",invalid_configuration:"Invalid configuration",show_warning:"Show Warning",show_error:"Show Error",missing_entity:"No entity defined"},s={common:i},r={version:"Versjon",invalid_configuration:"Ikke gyldig konfiguration",show_warning:"Vis advarsel"},a={common:r};const o={en:Object.freeze({__proto__:null,common:i,default:s}),nb:Object.freeze({__proto__:null,common:r,default:a})};function c(t,e="",n=""){const i=(localStorage.getItem("selectedLanguage")||"en").replace(/['"]+/g,"").replace("-","_");let s;try{s=t.split(".").reduce(((t,e)=>t[e]),o[i])}catch(e){s=t.split(".").reduce(((t,e)=>t[e]),o.en)}return void 0===s&&(s=t.split(".").reduce(((t,e)=>t[e]),o.en)),""!==e&&""!==n&&(s=s.replace(e,n)),s}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function l(t,e,n,i){var s,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(r<3?s(a):r>3?s(e,n,a):s(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}const d=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,u=Symbol(),h=new Map;class p{constructor(t,e){if(this._$cssResult$=!0,e!==u)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=h.get(this.cssText);return d&&void 0===t&&(h.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const m=t=>new p("string"==typeof t?t:t+"",u),g=d?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return m(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var v;const f=window.trustedTypes,_=f?f.emptyScript:"",y=window.reactiveElementPolyfillSupport,b={toAttribute(t,e){switch(e){case Boolean:t=t?_:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},w=(t,e)=>e!==t&&(e==e||t==t),$={attribute:!0,type:String,converter:b,reflect:!1,hasChanged:w};class A extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,n)=>{const i=this._$Eh(n,e);void 0!==i&&(this._$Eu.set(i,n),t.push(i))})),t}static createProperty(t,e=$){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const s=this[t];this[e]=i,this.requestUpdate(t,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||$}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(g(t))}else void 0!==t&&e.push(g(t));return e}static _$Eh(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,n;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{d?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=e.cssText,t.appendChild(n)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ES(t,e,n=$){var i,s;const r=this.constructor._$Eh(t,n);if(void 0!==r&&!0===n.reflect){const a=(null!==(s=null===(i=n.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==s?s:b.toAttribute)(e,n.type);this._$Ei=t,null==a?this.removeAttribute(r):this.setAttribute(r,a),this._$Ei=null}}_$AK(t,e){var n,i,s;const r=this.constructor,a=r._$Eu.get(t);if(void 0!==a&&this._$Ei!==a){const t=r.getPropertyOptions(a),o=t.converter,c=null!==(s=null!==(i=null===(n=o)||void 0===n?void 0:n.fromAttribute)&&void 0!==i?i:"function"==typeof o?o:null)&&void 0!==s?s:b.fromAttribute;this._$Ei=a,this[a]=c(e,t.type),this._$Ei=null}}requestUpdate(t,e,n){let i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||w)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Ei!==t&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(n)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$E_&&(this._$E_.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var k;A.finalized=!0,A.elementProperties=new Map,A.elementStyles=[],A.shadowRootOptions={mode:"open"},null==y||y({ReactiveElement:A}),(null!==(v=globalThis.reactiveElementVersions)&&void 0!==v?v:globalThis.reactiveElementVersions=[]).push("1.2.1");const S=globalThis.trustedTypes,E=S?S.createPolicy("lit-html",{createHTML:t=>t}):void 0,C=`lit$${(Math.random()+"").slice(9)}$`,x="?"+C,M=`<${x}>`,T=document,D=(t="")=>T.createComment(t),H=t=>null===t||"object"!=typeof t&&"function"!=typeof t,P=Array.isArray,N=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,O=/-->/g,U=/>/g,j=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,z=/'/g,Y=/"/g,L=/^(?:script|style|textarea)$/i,R=(t=>(e,...n)=>({_$litType$:t,strings:e,values:n}))(1),I=Symbol.for("lit-noChange"),V=Symbol.for("lit-nothing"),B=new WeakMap,F=T.createTreeWalker(T,129,null,!1),q=(t,e)=>{const n=t.length-1,i=[];let s,r=2===e?"<svg>":"",a=N;for(let e=0;e<n;e++){const n=t[e];let o,c,l=-1,d=0;for(;d<n.length&&(a.lastIndex=d,c=a.exec(n),null!==c);)d=a.lastIndex,a===N?"!--"===c[1]?a=O:void 0!==c[1]?a=U:void 0!==c[2]?(L.test(c[2])&&(s=RegExp("</"+c[2],"g")),a=j):void 0!==c[3]&&(a=j):a===j?">"===c[0]?(a=null!=s?s:N,l=-1):void 0===c[1]?l=-2:(l=a.lastIndex-c[2].length,o=c[1],a=void 0===c[3]?j:'"'===c[3]?Y:z):a===Y||a===z?a=j:a===O||a===U?a=N:(a=j,s=void 0);const u=a===j&&t[e+1].startsWith("/>")?" ":"";r+=a===N?n+M:l>=0?(i.push(o),n.slice(0,l)+"$lit$"+n.slice(l)+C+u):n+C+(-2===l?(i.push(void 0),e):u)}const o=r+(t[n]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==E?E.createHTML(o):o,i]};class W{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let s=0,r=0;const a=t.length-1,o=this.parts,[c,l]=q(t,e);if(this.el=W.createElement(c,n),F.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=F.nextNode())&&o.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(C)){const n=l[r++];if(t.push(e),void 0!==n){const t=i.getAttribute(n.toLowerCase()+"$lit$").split(C),e=/([.?@])?(.*)/.exec(n);o.push({type:1,index:s,name:e[2],strings:t,ctor:"."===e[1]?G:"?"===e[1]?tt:"@"===e[1]?et:X})}else o.push({type:6,index:s})}for(const e of t)i.removeAttribute(e)}if(L.test(i.tagName)){const t=i.textContent.split(C),e=t.length-1;if(e>0){i.textContent=S?S.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],D()),F.nextNode(),o.push({type:2,index:++s});i.append(t[e],D())}}}else if(8===i.nodeType)if(i.data===x)o.push({type:2,index:s});else{let t=-1;for(;-1!==(t=i.data.indexOf(C,t+1));)o.push({type:7,index:s}),t+=C.length-1}s++}}static createElement(t,e){const n=T.createElement("template");return n.innerHTML=t,n}}function Z(t,e,n=t,i){var s,r,a,o;if(e===I)return e;let c=void 0!==i?null===(s=n._$Cl)||void 0===s?void 0:s[i]:n._$Cu;const l=H(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(r=null==c?void 0:c._$AO)||void 0===r||r.call(c,!1),void 0===l?c=void 0:(c=new l(t),c._$AT(t,n,i)),void 0!==i?(null!==(a=(o=n)._$Cl)&&void 0!==a?a:o._$Cl=[])[i]=c:n._$Cu=c),void 0!==c&&(e=Z(t,c._$AS(t,e.values),c,i)),e}class J{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:n},parts:i}=this._$AD,s=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:T).importNode(n,!0);F.currentNode=s;let r=F.nextNode(),a=0,o=0,c=i[0];for(;void 0!==c;){if(a===c.index){let e;2===c.type?e=new K(r,r.nextSibling,this,t):1===c.type?e=new c.ctor(r,c.name,c.strings,this,t):6===c.type&&(e=new nt(r,this,t)),this.v.push(e),c=i[++o]}a!==(null==c?void 0:c.index)&&(r=F.nextNode(),a++)}return s}m(t){let e=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class K{constructor(t,e,n,i){var s;this.type=2,this._$AH=V,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cg=null===(s=null==i?void 0:i.isConnected)||void 0===s||s}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Z(this,t,e),H(t)?t===V||null==t||""===t?(this._$AH!==V&&this._$AR(),this._$AH=V):t!==this._$AH&&t!==I&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return P(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.A(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==V&&H(this._$AH)?this._$AA.nextSibling.data=t:this.S(T.createTextNode(t)),this._$AH=t}T(t){var e;const{values:n,_$litType$:i}=t,s="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=W.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===s)this._$AH.m(n);else{const t=new J(s,this),e=t.p(this.options);t.m(n),this.S(e),this._$AH=t}}_$AC(t){let e=B.get(t.strings);return void 0===e&&B.set(t.strings,e=new W(t)),e}A(t){P(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const s of t)i===e.length?e.push(n=new K(this.M(D()),this.M(D()),this,this.options)):n=e[i],n._$AI(s),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class X{constructor(t,e,n,i,s){this.type=1,this._$AH=V,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=s,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=V}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const s=this.strings;let r=!1;if(void 0===s)t=Z(this,t,e,0),r=!H(t)||t!==this._$AH&&t!==I,r&&(this._$AH=t);else{const i=t;let a,o;for(t=s[0],a=0;a<s.length-1;a++)o=Z(this,i[n+a],e,a),o===I&&(o=this._$AH[a]),r||(r=!H(o)||o!==this._$AH[a]),o===V?t=V:t!==V&&(t+=(null!=o?o:"")+s[a+1]),this._$AH[a]=o}r&&!i&&this.k(t)}k(t){t===V?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class G extends X{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===V?void 0:t}}const Q=S?S.emptyScript:"";class tt extends X{constructor(){super(...arguments),this.type=4}k(t){t&&t!==V?this.element.setAttribute(this.name,Q):this.element.removeAttribute(this.name)}}class et extends X{constructor(t,e,n,i,s){super(t,e,n,i,s),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=Z(this,t,e,0))&&void 0!==n?n:V)===I)return;const i=this._$AH,s=t===V&&i!==V||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==V&&(i===V||s);s&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class nt{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Z(this,t)}}const it=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var st,rt;null==it||it(W,K),(null!==(k=globalThis.litHtmlVersions)&&void 0!==k?k:globalThis.litHtmlVersions=[]).push("2.1.2");class at extends A{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=((t,e,n)=>{var i,s;const r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e;let a=r._$litPart$;if(void 0===a){const t=null!==(s=null==n?void 0:n.renderBefore)&&void 0!==s?s:null;r._$litPart$=a=new K(e.insertBefore(D(),t),t,void 0,null!=n?n:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return I}}at.finalized=!0,at._$litElement$=!0,null===(st=globalThis.litElementHydrateSupport)||void 0===st||st.call(globalThis,{LitElement:at});const ot=globalThis.litElementPolyfillSupport;null==ot||ot({LitElement:at}),(null!==(rt=globalThis.litElementVersions)&&void 0!==rt?rt:globalThis.litElementVersions=[]).push("3.1.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ct=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,lt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function dt(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):lt(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function ut(t){return dt({...t,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ht;null===(ht=window.HTMLSlotElement)||void 0===ht||ht.prototype.assignedElements;var pt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,mt="[^\\s]+",gt=/\[([^]*?)\]/gm;function vt(t,e){for(var n=[],i=0,s=t.length;i<s;i++)n.push(t[i].substr(0,e));return n}var ft=function(t){return function(e,n){var i=n[t].map((function(t){return t.toLowerCase()})),s=i.indexOf(e.toLowerCase());return s>-1?s:null}};function _t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,s=e;i<s.length;i++){var r=s[i];for(var a in r)t[a]=r[a]}return t}var yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bt=["January","February","March","April","May","June","July","August","September","October","November","December"],wt=vt(bt,3),$t={dayNamesShort:vt(yt,3),dayNames:yt,monthNamesShort:wt,monthNames:bt,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},At=_t({},$t),kt=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},St={D:function(t){return String(t.getDate())},DD:function(t){return kt(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return kt(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return kt(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return kt(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return kt(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return kt(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return kt(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return kt(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return kt(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return kt(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return kt(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+kt(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+kt(Math.floor(Math.abs(e)/60),2)+":"+kt(Math.abs(e)%60,2)}},Et=function(t){return+t-1},Ct=[null,"[1-9]\\d?"],xt=[null,mt],Mt=["isPm",mt,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Tt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],Dt=(ft("monthNamesShort"),ft("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"});var Ht,Pt,Nt=function(t,e,n){if(void 0===e&&(e=Dt.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var i=[];e=(e=Dt[e]||e).replace(gt,(function(t,e){return i.push(e),"@@@"}));var s=_t(_t({},At),n);return(e=e.replace(pt,(function(e){return St[e](t,s)}))).replace(/@@@/g,(function(){return i.shift()}))},Ot=function(){try{(new Date).toLocaleDateString("i")}catch(t){return"RangeError"===t.name}return!1}()?function(t,e){return t.toLocaleDateString(e.language,{year:"numeric",month:"long",day:"numeric"})}:function(t){return Nt(t,"mediumDate")},Ut=function(){try{(new Date).toLocaleString("i")}catch(t){return"RangeError"===t.name}return!1}()?function(t,e){return t.toLocaleString(e.language,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}:function(t){return Nt(t,"haDateTime")},jt=function(){try{(new Date).toLocaleTimeString("i")}catch(t){return"RangeError"===t.name}return!1}()?function(t,e){return t.toLocaleTimeString(e.language,{hour:"numeric",minute:"2-digit"})}:function(t){return Nt(t,"shortTime")};function zt(t){return t.substr(0,t.indexOf("."))}!function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(Ht||(Ht={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(Pt||(Pt={}));var Yt=function(t,e,n){var i;switch(null==e?void 0:e.number_format){case Ht.comma_decimal:i=["en-US","en"];break;case Ht.decimal_comma:i=["de","es","it"];break;case Ht.space_comma:i=["fr","sv","cs"];break;case Ht.system:i=void 0;break;default:i=null==e?void 0:e.language}if(Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},!Number.isNaN(Number(t))&&Intl&&(null==e?void 0:e.number_format)!==Ht.none)try{return new Intl.NumberFormat(i,Lt(t,n)).format(Number(t))}catch(e){return console.error(e),new Intl.NumberFormat(void 0,Lt(t,n)).format(Number(t))}return t?t.toString():""},Lt=function(t,e){var n=e||{};if("string"!=typeof t)return n;if(!e||!e.minimumFractionDigits&&!e.maximumFractionDigits){var i=t.indexOf(".")>-1?t.split(".")[1].length:0;n.minimumFractionDigits=i,n.maximumFractionDigits=i}return n};function Rt(t,e,n,i){var s=void 0!==i?i:e.state;if("unknown"===s||"unavailable"===s)return t("state.default."+s);if(e.attributes.unit_of_measurement)return Yt(s,n)+" "+e.attributes.unit_of_measurement;var r=function(t){return zt(t.entity_id)}(e);if("input_datetime"===r){var a;if(!e.attributes.has_time)return a=new Date(e.attributes.year,e.attributes.month-1,e.attributes.day),Ot(a,n);if(!e.attributes.has_date){var o=new Date;return a=new Date(o.getFullYear(),o.getMonth(),o.getDay(),e.attributes.hour,e.attributes.minute),jt(a,n)}return a=new Date(e.attributes.year,e.attributes.month-1,e.attributes.day,e.attributes.hour,e.attributes.minute),Ut(a,n)}return"humidifier"===r&&"on"===s&&e.attributes.humidity?e.attributes.humidity+" %":"counter"===r||"number"===r?Yt(s,n):e.attributes.device_class&&t("component."+r+".state."+e.attributes.device_class+"."+e.state)||t("component."+r+".state._."+e.state)||e.state}var It=["closed","locked","off"],Vt=function(t,e,n,i){i=i||{},n=null==n?{}:n;var s=new Event(e,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});return s.detail=n,t.dispatchEvent(s),s},Bt={alert:"hass:alert",automation:"hass:playlist-play",calendar:"hass:calendar",camera:"hass:video",climate:"hass:thermostat",configurator:"hass:settings",conversation:"hass:text-to-speech",device_tracker:"hass:account",fan:"hass:fan",group:"hass:google-circles-communities",history_graph:"hass:chart-line",homeassistant:"hass:home-assistant",homekit:"hass:home-automation",image_processing:"hass:image-filter-frames",input_boolean:"hass:drawing",input_datetime:"hass:calendar-clock",input_number:"hass:ray-vertex",input_select:"hass:format-list-bulleted",input_text:"hass:textbox",light:"hass:lightbulb",mailbox:"hass:mailbox",notify:"hass:comment-alert",person:"hass:account",plant:"hass:flower",proximity:"hass:apple-safari",remote:"hass:remote",scene:"hass:google-pages",script:"hass:file-document",sensor:"hass:eye",simple_alarm:"hass:bell",sun:"hass:white-balance-sunny",switch:"hass:flash",timer:"hass:timer",updater:"hass:cloud-upload",vacuum:"hass:robot-vacuum",water_heater:"hass:thermometer",weblink:"hass:open-in-new"};function Ft(t,e){if(t in Bt)return Bt[t];switch(t){case"alarm_control_panel":switch(e){case"armed_home":return"hass:bell-plus";case"armed_night":return"hass:bell-sleep";case"disarmed":return"hass:bell-outline";case"triggered":return"hass:bell-ring";default:return"hass:bell"}case"binary_sensor":return e&&"off"===e?"hass:radiobox-blank":"hass:checkbox-marked-circle";case"cover":return"closed"===e?"hass:window-closed":"hass:window-open";case"lock":return e&&"unlocked"===e?"hass:lock-open":"hass:lock";case"media_player":return e&&"off"!==e&&"idle"!==e?"hass:cast-connected":"hass:cast";case"zwave":switch(e){case"dead":return"hass:emoticon-dead";case"sleeping":return"hass:sleep";case"initializing":return"hass:timer-sand";default:return"hass:z-wave"}default:return console.warn("Unable to find icon for domain "+t+" ("+e+")"),"hass:bookmark"}}var qt=function(t){Vt(window,"haptic",t)},Wt=function(t,e){return function(t,e,n){void 0===n&&(n=!0);var i,s=zt(e),r="group"===s?"homeassistant":s;switch(s){case"lock":i=n?"unlock":"lock";break;case"cover":i=n?"open_cover":"close_cover";break;default:i=n?"turn_on":"turn_off"}return t.callService(r,i,{entity_id:e})}(t,e,It.includes(t.states[e].state))},Zt=function(t,e,n,i){if(i||(i={action:"more-info"}),!i.confirmation||i.confirmation.exemptions&&i.confirmation.exemptions.some((function(t){return t.user===e.user.id}))||(qt("warning"),confirm(i.confirmation.text||"Are you sure you want to "+i.action+"?")))switch(i.action){case"more-info":(n.entity||n.camera_image)&&Vt(t,"hass-more-info",{entityId:n.entity?n.entity:n.camera_image});break;case"navigate":i.navigation_path&&function(t,e,n){void 0===n&&(n=!1),n?history.replaceState(null,"",e):history.pushState(null,"",e),Vt(window,"location-changed",{replace:n})}(0,i.navigation_path);break;case"url":i.url_path&&window.open(i.url_path);break;case"toggle":n.entity&&(Wt(e,n.entity),qt("success"));break;case"call-service":if(!i.service)return void qt("failure");var s=i.service.split(".",2);e.callService(s[0],s[1],i.service_data),qt("success");break;case"fire-dom-event":Vt(t,"ll-custom",i)}};function Jt(t){return void 0!==t&&"none"!==t.action}var Kt={humidity:"hass:water-percent",illuminance:"hass:brightness-5",temperature:"hass:thermometer",pressure:"hass:gauge",power:"hass:flash",signal_strength:"hass:wifi"},Xt={binary_sensor:function(t){var e=t.state&&"off"===t.state;switch(t.attributes.device_class){case"battery":return e?"hass:battery":"hass:battery-outline";case"cold":return e?"hass:thermometer":"hass:snowflake";case"connectivity":return e?"hass:server-network-off":"hass:server-network";case"door":return e?"hass:door-closed":"hass:door-open";case"garage_door":return e?"hass:garage":"hass:garage-open";case"gas":case"power":case"problem":case"safety":case"smoke":return e?"hass:shield-check":"hass:alert";case"heat":return e?"hass:thermometer":"hass:fire";case"light":return e?"hass:brightness-5":"hass:brightness-7";case"lock":return e?"hass:lock":"hass:lock-open";case"moisture":return e?"hass:water-off":"hass:water";case"motion":return e?"hass:walk":"hass:run";case"occupancy":case"presence":return e?"hass:home-outline":"hass:home";case"opening":return e?"hass:square":"hass:square-outline";case"plug":return e?"hass:power-plug-off":"hass:power-plug";case"sound":return e?"hass:music-note-off":"hass:music-note";case"vibration":return e?"hass:crop-portrait":"hass:vibrate";case"window":return e?"hass:window-closed":"hass:window-open";default:return e?"hass:radiobox-blank":"hass:checkbox-marked-circle"}},cover:function(t){var e="closed"!==t.state;switch(t.attributes.device_class){case"garage":return e?"hass:garage-open":"hass:garage";case"door":return e?"hass:door-open":"hass:door-closed";case"shutter":return e?"hass:window-shutter-open":"hass:window-shutter";case"blind":return e?"hass:blinds-open":"hass:blinds";case"window":return e?"hass:window-open":"hass:window-closed";default:return Ft("cover",t.state)}},sensor:function(t){var e=t.attributes.device_class;if(e&&e in Kt)return Kt[e];if("battery"===e){var n=Number(t.state);if(isNaN(n))return"hass:battery-unknown";var i=10*Math.round(n/10);return i>=100?"hass:battery":i<=0?"hass:battery-alert":"hass:battery-"+i}var s=t.attributes.unit_of_measurement;return"°C"===s||"°F"===s?"hass:thermometer":Ft("sensor")},input_datetime:function(t){return t.attributes.has_date?t.attributes.has_time?Ft("input_datetime"):"hass:calendar":"hass:clock"}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gt=1,Qt=t=>(...e)=>({_$litDirective$:t,values:e});class te{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const ee="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0;class ne extends HTMLElement{constructor(){super(),this.holdTime=500,this.held=!1,this.ripple=document.createElement("mwc-ripple")}connectedCallback(){Object.assign(this.style,{position:"absolute",width:ee?"100px":"50px",height:ee?"100px":"50px",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:"999"}),this.appendChild(this.ripple),this.ripple.primary=!0,["touchcancel","mouseout","mouseup","touchmove","mousewheel","wheel","scroll"].forEach((t=>{document.addEventListener(t,(()=>{clearTimeout(this.timer),this.stopAnimation(),this.timer=void 0}),{passive:!0})}))}bind(t,e){if(t.actionHandler)return;t.actionHandler=!0,t.addEventListener("contextmenu",(t=>{const e=t||window.event;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}));const n=t=>{let e,n;this.held=!1,t.touches?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY),this.timer=window.setTimeout((()=>{this.startAnimation(e,n),this.held=!0}),this.holdTime)},i=n=>{n.preventDefault(),["touchend","touchcancel"].includes(n.type)&&void 0===this.timer||(clearTimeout(this.timer),this.stopAnimation(),this.timer=void 0,this.held?Vt(t,"action",{action:"hold"}):e.hasDoubleClick?"click"===n.type&&n.detail<2||!this.dblClickTimeout?this.dblClickTimeout=window.setTimeout((()=>{this.dblClickTimeout=void 0,Vt(t,"action",{action:"tap"})}),250):(clearTimeout(this.dblClickTimeout),this.dblClickTimeout=void 0,Vt(t,"action",{action:"double_tap"})):Vt(t,"action",{action:"tap"}))};t.addEventListener("touchstart",n,{passive:!0}),t.addEventListener("touchend",i),t.addEventListener("touchcancel",i),t.addEventListener("mousedown",n,{passive:!0}),t.addEventListener("click",i),t.addEventListener("keyup",(t=>{13===t.keyCode&&i(t)}))}startAnimation(t,e){Object.assign(this.style,{left:`${t}px`,top:`${e}px`,display:null}),this.ripple.disabled=!1,this.ripple.active=!0,this.ripple.unbounded=!0}stopAnimation(){this.ripple.active=!1,this.ripple.disabled=!0,this.style.display="none"}}const ie="action-handler-advanced-tile-card";customElements.define(ie,ne);const se=(t,e)=>{const n=(()=>{const t=document.body;if(t.querySelector(ie))return t.querySelector(ie);const e=document.createElement(ie);return t.appendChild(e),e})();n&&n.bind(t,e)},re=Qt(class extends te{update(t,[e]){return se(t.element,e),I}render(t){}}),ae=Qt(class extends te{constructor(t){var e;if(super(t),t.type!==Gt||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var n,i;if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.et=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(n=this.et)||void 0===n?void 0:n.has(t))&&this.st.add(t);return this.render(e)}const s=t.element.classList;this.st.forEach((t=>{t in e||(s.remove(t),this.st.delete(t))}));for(const t in e){const n=!!e[t];n===this.st.has(t)||(null===(i=this.et)||void 0===i?void 0:i.has(t))||(n?(s.add(t),this.st.add(t)):(s.remove(t),this.st.delete(t)))}return I}}),oe=Qt(class extends te{constructor(t){var e;if(super(t),t.type!==Gt||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,n)=>{const i=t[n];return null==i?e:e+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(t,[e]){const{style:n}=t.element;if(void 0===this.ct){this.ct=new Set;for(const t in e)this.ct.add(t);return this.render(e)}this.ct.forEach((t=>{null==e[t]&&(this.ct.delete(t),t.includes("-")?n.removeProperty(t):n[t]="")}));for(const t in e){const i=e[t];null!=i&&(this.ct.add(t),t.includes("-")?n.setProperty(t,i):n[t]=i)}return I}});const ce=t=>zt(t.entity_id),le=(t,e)=>Rt(e.localize,t,e.locale),de=t=>n.includes(t.state),ue=({entity:t,hass:e},{domainClasses:n={},domainStyles:i={},noToggleAction:s=!1,domainToggleAction:r=(()=>Wt(e,t.entity_id)),domainStateString:a=!1}={})=>{const o=ce(t);return{domainClasses:Object.assign({[`domain-${o}`]:!0},n),domainStyles:i,noToggleAction:s,domainToggleAction:r,domainStateString:a||le(t,e)}},he=t=>{var e;const n=zt(null!==(e=t.entity)&&void 0!==e?e:"");return Object.keys(t).includes("use_entity_picture_as_icon")||"person"===n&&(t.use_entity_picture_as_icon=!0),Object.keys(t).includes("use_entity_picture_as_background")||"camera"!==n&&"media_player"!==n||(t.use_entity_picture_as_background=!0),Object.keys(t).includes("show_state_string")||"sensor"===n&&(t.show_state_string=!0),t};let pe=class extends at{constructor(){super(...arguments),this.isInitialized=!1,this.isClicked=!1,this.entityUsesEntityPictureAsIcon=!1,this.entityUsesEntityPictureAsBackground=!1,this.showStateString=!1,this.entityIsActive=!1,this.entityWithoutAction=!1,this.entityClasses={},this.entityStyles={}}static async getConfigElement(){return await Promise.resolve().then((function(){return ve})),document.createElement(e)}static async getStubConfig(t){const e=Object.keys(t.states).filter((t=>["light"].includes(t.split(".")[0])));return{entity:e[0]}}getCardSize(){return 1}setConfig(t){if(!t)throw new Error(c("common.invalid_configuration"));t.test_gui&&function(){var t=document.querySelector("home-assistant");if(t=(t=(t=(t=(t=(t=(t=(t=t&&t.shadowRoot)&&t.querySelector("home-assistant-main"))&&t.shadowRoot)&&t.querySelector("app-drawer-layout partial-panel-resolver"))&&t.shadowRoot||t)&&t.querySelector("ha-panel-lovelace"))&&t.shadowRoot)&&t.querySelector("hui-root")){var e=t.lovelace;return e.current_view=t.___curView,e}return null}().setEditMode(!0),this.config=t}shouldUpdate(t){return!!this.config&&function(t,e,n){if(e.has("config")||n)return!0;if(t.config.entity){var i=e.get("hass");return!i||i.states[t.config.entity]!==t.hass.states[t.config.entity]}return!1}(this,t,!1)}render(){var t,e,n;if(!this.config.entity)return this._showWarning(c("common.missing_entity"));this.entity=this.hass.states[this.config.entity],this.entityIcon=this.config.icon||function(t){if(!t)return"hass:bookmark";if(t.attributes.icon)return t.attributes.icon;var e=zt(t.entity_id);return e in Xt?Xt[e](t):Ft(e,t.state)}(this.entity),this.entityDomain=null===(t=this.entity)||void 0===t?void 0:t.entity_id.split(".")[0],this.entityUsesEntityPictureAsIcon=this.config.use_entity_picture_as_icon||!1,this.entityUsesEntityPictureAsBackground=this.config.use_entity_picture_as_background||!1,this.showStateString=this.config.show_state_string||!1,this.entityIsActive=de(this.entity);const{domainClasses:i,domainStyles:s,domainStateString:r,domainToggleAction:a,noToggleAction:o}=((t,e,n)=>{const i={};switch(ce(t)){case"light":if(de(t)){const e=`${(t=>t.attributes.rgb_color.join(",")||void 0)(t)||"var(--rgb-primary-color)"}`;i["--atc-icon-color-active"]=`rgb(${e})`,i["--atc-icon-background-active"]=`rgba(${e}, 0.2)`}return ue({entity:t,hass:e},{domainStyles:i});case"person":return n.use_entity_picture_as_icon&&t.attributes.entity_picture&&(i["--atc-icon-background"]=`url(${t.attributes.entity_picture})`,i["--atc-icon-background-active"]=`url(${t.attributes.entity_picture})`),ue({entity:t,hass:e},{domainStyles:i,domainStateString:"home"!==t.state&&le(t,e),noToggleAction:!0});case"lock":return ue({entity:t,hass:e},{domainStateString:"locked"!==t.state&&le(t,e)});case"alarm_control_panel":case"camera":case"sun":return ue({entity:t,hass:e},{noToggleAction:!0});case"media_player":return ue({entity:t,hass:e},{domainStateString:"playing"===t.state&&(t.attributes.media_title?t.attributes.media_title:le(t,e)),domainToggleAction:()=>((t,e)=>e.callService("media_player","media_play_pause",{entity_id:t}))(t.entity_id,e)});case"sensor":return ue({entity:t,hass:e},{domainStateString:!!t.attributes.unit_of_measurement&&`${t.state} ${t.attributes.unit_of_measurement}`,noToggleAction:!0});case"binary_sensor":return ue({entity:t,hass:e},{domainStateString:"on"===t.state&&le(t,e),noToggleAction:!0});default:return ue({entity:t,hass:e})}})(this.entity,this.hass,this.config);return this.entityWithoutAction=o,this.entityToggleAction=a,this.entityStyles=Object.assign({},s),this.entityClasses=Object.assign(Object.assign(Object.assign({},this.entityClasses),i),{clicked:this.isClicked,active:this.entityIsActive}),R`
      <ha-card
        class="${ae(this.entityClasses)}"
        @action=${this._handleAction}
        .actionHandler=${re({hasHold:Jt(this.config.hold_action),hasDoubleClick:Jt(this.config.double_tap_action)})}
         style="${oe(this.entityStyles)}"
        tabindex="0"
      >
      ${this.entityUsesEntityPictureAsBackground&&(null===(e=this.entity)||void 0===e?void 0:e.attributes.entity_picture)?R`
        <div class="background-image">
          <img src="${null===(n=this.entity)||void 0===n?void 0:n.attributes.entity_picture}">
        </div>`:""}

        <div class="container">

          <div
            class="icon-area"
            @click=${this._toggleEntity}
            @touchend=${this._toggleEntity}
          >
            <div class="icon-wrapper">
              ${this.entityUsesEntityPictureAsIcon?"":R`
                <ha-state-icon class="icon" .icon=${this.entityIcon}>
                </ha-state-icon>
              `}
            </div>
          </div>

          <span class="state-icon-area"></span>

          <div class="name-area">
            <span class="entity-name ellipsis">
              ${this.config.name||this.entity.attributes.friendly_name}
            </span>
            ${this.showStateString?R`
              <span class="entity-state">${r||""}</span>
            `:""}
          </div>

        </div>
      </ha-card>
    `}_handleAction(t){this.toggleClickClass(),this.hass&&this.config&&t.detail.action&&(!function(t,e,n,i){var s;"double_tap"===i&&n.double_tap_action?s=n.double_tap_action:"hold"===i&&n.hold_action?s=n.hold_action:"tap"===i&&n.tap_action&&(s=n.tap_action),Zt(t,e,n,s)}(this,this.hass,this.config,t.detail.action),qt("light"))}_toggleEntity(t){var e;this.toggleClickClass(),t.preventDefault(),t.stopPropagation(),this.entityWithoutAction?this._handleAction({detail:{action:"more-info"}}):this.hass&&this.config.entity&&(null===(e=this.entityToggleAction)||void 0===e||e.call(this),qt("success"))}toggleClickClass(){this.isClicked=!0,setTimeout((()=>{this.isClicked=!1}),500)}_showWarning(t){return R` <hui-warning>${t}</hui-warning> `}static get styles(){return m('* {\n  box-sizing: border-box;\n}\n\n:host {\n  aspect-ratio: 1/1;\n}\n\nha-card {\n  /*** \n  * Variables START\n  ***/\n  --atc-default-card-background: var(--ha-card-background, var(--card-background-color, white));\n  --atc-default-icon-color: rgb(var(--rgb-state-inactive-color));\n  --atc-default-icon-color-active: rgb(var(--rgb-state-switch-color));\n  --atc-default-icon-background: rgba(var(--rgb-state-inactive-color), 0.2);\n  --atc-default-icon-background-active: rgba(var(--rgb-state-switch-color), 0.2);\n  --atc-default-card-border-radius: var(--ha-card-border-radius, 12px);\n  --atc-card-spacing: 1vw;\n  --atc-card-border-radius: var(--atc-theme-card-border-radius, var(--atc-default-card-border-radius));\n  --atc-card-background: var(--atc-theme-card-background, var(--atc-default-card-background));\n  --atc-card-background-active: var(--atc-theme-card-background-active, var(--atc-default-card-background));\n  --atc-card-background-mask: linear-gradient(0deg, transparent 0%, black 100%);\n  --atc-icon-color: var(--atc-theme-icon-color, var(--atc-default-icon-color));\n  --atc-icon-color-active: var(--atc-theme-icon-color-active, var(--atc-default-icon-color-active));\n  --atc-icon-background: var(--atc-theme-icon-background, var(--atc-default-icon-background));\n  --atc-icon-background-active: var(--atc-theme-icon-background-active, var(--atc-default-icon-background-active));\n  --atc-text-color: var(--primary-text-color);\n  --atc-text-color-active: var(--primary-text-color-active);\n  /*** \n  * Variables END\n  ***/\n  width: 100%;\n  height: 100%;\n  background: var(--atc-card-background);\n  background-size: cover;\n  background-position: center;\n  border-radius: var(--atc-card-border-radius);\n  cursor: pointer;\n  /*** \n  * Elements\n  ***/\n  /*** \n  * Clicked State \n  ***/\n  /*** \n  * Active State \n  ***/\n}\nha-card .background-image {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 33%;\n  left: 0;\n  mask-image: var(--atc-card-background-mask);\n  -webkit-mask-image: var(--atc-card-background-mask);\n  border-top-right-radius: var(--atc-card-border-radius);\n  border-top-left-radius: var(--atc-card-border-radius);\n}\nha-card .background-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\nha-card .container {\n  display: grid;\n  flex: 1;\n  grid-template-columns: 50% 50%;\n  grid-template-rows: 50% 50%;\n  grid-template-areas: "icon-area additional-state-icon-area" "name-area name-area";\n  width: 100%;\n  height: 100%;\n}\nha-card .container .icon-area {\n  padding-top: var(--atc-card-spacing);\n  padding-right: calc(var(--atc-card-spacing) / 2);\n  padding-bottom: calc(var(--atc-card-spacing) / 2);\n  padding-left: var(--atc-card-spacing);\n  grid-area: icon-area;\n  --mdc-icon-size: 100%;\n}\nha-card .container .icon-area .icon-wrapper {\n  border-radius: 100%;\n  padding: 20%;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  background-color: var(--atc-icon-background);\n  border: var(--atc-icon-border);\n  justify-content: center;\n  background-size: cover;\n  transition: background-color 180ms ease-in-out 0s, border 180ms ease-in-out 0s;\n}\nha-card .container .icon-area .icon-wrapper .icon {\n  transition: color 180ms ease-in-out 0s;\n  color: var(--atc-icon-color);\n}\nha-card .container .state-icon-area {\n  padding-top: var(--atc-card-spacing);\n  padding-right: var(--atc-card-spacing);\n  padding-bottom: calc(var(--atc-card-spacing) / 2);\n  padding-left: calc(var(--atc-card-spacing) / 2);\n  grid-area: additional-state-icon-area;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nha-card .container .name-area {\n  grid-area: name-area;\n  color: var(--atc-text-color);\n  padding-right: var(--atc-card-spacing);\n  padding-bottom: var(--atc-card-spacing);\n  padding-left: var(--atc-card-spacing);\n  display: flex;\n  flex-direction: column;\n  justify-content: end;\n}\nha-card .container .name-area .entity-state {\n  font-size: 1.2vw;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\nha-card .container .name-area .entity-name {\n  font-size: 1.5vw;\n  font-weight: 400;\n  line-height: normal;\n  max-width: 100%;\n}\nha-card.clicked {\n  animation: var(--atc-theme-click-animation);\n}\nha-card.active {\n  background: var(--atc-card-background-active);\n  background-size: cover;\n  background-position: center;\n}\nha-card.active .container .icon-area .icon-wrapper {\n  border: var(--atc-icon-border-active);\n  background: var(--atc-icon-background-active);\n  background-size: cover;\n  background-position: center;\n}\nha-card.active .container .icon-area .icon-wrapper .icon {\n  color: var(--atc-icon-color-active);\n}\nha-card.active .container .name-area {\n  color: var(--atc-text-color-active);\n}\n\n/*** \n* Helper Classes \n***/\n.ellipsis {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n@keyframes card_bounce {\n  0% {\n    transform: scale(1);\n  }\n  15% {\n    transform: scale(0.9);\n  }\n  25% {\n    transform: scale(1);\n  }\n  30% {\n    transform: scale(0.98);\n  }\n  100% {\n    transform: scale(1);\n  }\n}')}};l([dt()],pe.prototype,"hass",void 0),l([ut()],pe.prototype,"isClicked",void 0),l([ut()],pe.prototype,"entityIsActive",void 0),l([ut()],pe.prototype,"config",void 0),pe=l([ct("advanced-tile-card")],pe);var me=pe;window.customCards=window.customCards||[],window.customCards.push(t),console.info(`%c  ${t.name} \n%c  ${c("common.version")} 1.0.0    `,"color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray");let ge=class extends at{constructor(){super(...arguments),this._initialized=!1}setConfig(t){this._config=he(t),this.loadCardHelpers()}shouldUpdate(){return this._initialized||this._initialize(),!0}get _name(){var t;return(null===(t=this._config)||void 0===t?void 0:t.name)||""}get _entity(){var t;return(null===(t=this._config)||void 0===t?void 0:t.entity)||""}get _icon(){var t,e,n,i,s;return(null===(t=this._config)||void 0===t?void 0:t.icon)||(null===(e=this._config)||void 0===e?void 0:e.entity)&&(null===(n=this.hass)||void 0===n?void 0:n.states[this._config.entity].attributes.icon)||Ft(zt(null!==(s=null===(i=this._config)||void 0===i?void 0:i.entity)&&void 0!==s?s:""))||""}_handleChange(t){if(!this._config)return;const e=he(t.detail.value);this._config=Object.assign(Object.assign({},this._config),e),this.dispatchEvent(new CustomEvent("config-changed",{detail:{config:this._config}}))}render(){var t,e;return this.hass&&this._helpers?R`
      <hui-card-picker lovelace=""></hui-card-picker>
      <ha-form
        .hass=${this.hass}
        .schema=${((t,e)=>{const n=[{name:"entity",label:"Entity",selector:{entity:{}}},{name:"name",label:"Name",type:"string"},{name:"icon",label:"Icon",selector:{icon:{placeholder:t}}},{name:"show_state_string",label:"Show state string?",selector:{boolean:{}}}];return"person"===e&&n.push({name:"use_entity_picture_as_icon",label:"Use entity picture as icon?",selector:{boolean:{}}}),"person"!==e&&"camera"!==e&&"media_player"!==e||n.push({name:"use_entity_picture_as_background",label:"Use entity picture as tile background?",selector:{boolean:{}}}),n})(this._icon,zt(null!==(e=null===(t=this._config)||void 0===t?void 0:t.entity)&&void 0!==e?e:""))}
        .data=${Object.assign({},this._config)}
        .computeLabel=${t=>{var e;return null!==(e=t.label)&&void 0!==e?e:t.name}}
        @value-changed=${this._handleChange}
      ></ha-form>
    `:R``}_initialize(){void 0!==this.hass&&void 0!==this._config&&void 0!==this._helpers&&(this._initialized=!0)}async loadCardHelpers(){this._helpers=await window.loadCardHelpers()}_valueChanged(t){if(!this._config||!this.hass)return;const e=t.target;if(this[`_${e.configValue}`]!==e.value){if(e.configValue)if(""===e.value){const t=Object.assign({},this._config);delete t[e.configValue],this._config=t}else this._config=Object.assign(Object.assign({},this._config),{[e.configValue]:void 0!==e.checked?e.checked:e.value});Vt(this,"config-changed",{config:this._config})}}};ge.styles=((t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1]),t[0]);return new p(n,u)})`
    mwc-select,
    mwc-textfield {
      margin-bottom: 16px;
      display: block;
    }
    mwc-formfield {
      padding-bottom: 8px;
    }
    mwc-switch {
      --mdc-theme-secondary: var(--switch-checked-color);
    }
  `,l([dt({attribute:!1})],ge.prototype,"hass",void 0),l([ut()],ge.prototype,"_config",void 0),l([ut()],ge.prototype,"_helpers",void 0),ge=l([ct(e)],ge);var ve=Object.freeze({__proto__:null,get AdvancedTileCardVisualEditor(){return ge}});export{me as Card};
